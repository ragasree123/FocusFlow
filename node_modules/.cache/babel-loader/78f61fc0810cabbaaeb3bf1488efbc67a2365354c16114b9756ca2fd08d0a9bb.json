{"ast":null,"code":"import{useState,useEffect,useRef}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MODES={pomodoro:25*60,short:5*60,long:15*60};export default function Timer(){const[mode,setMode]=useState(\"pomodoro\");const[time,setTime]=useState(MODES[mode]);const[isRunning,setIsRunning]=useState(false);const audioRef=useRef(null);useEffect(()=>{setTime(MODES[mode]);setIsRunning(false);},[mode]);useEffect(()=>{let interval;if(isRunning){interval=setInterval(()=>{setTime(prev=>{if(prev<=1){setIsRunning(false);playNotification();return 0;}return prev-1;});},1000);}return()=>clearInterval(interval);},[isRunning]);const formatTime=seconds=>{const m=String(Math.floor(seconds/60)).padStart(2,\"0\");const s=String(seconds%60).padStart(2,\"0\");return`${m}:${s}`;};const playNotification=()=>{if(audioRef.current){audioRef.current.play();}if(Notification.permission===\"granted\"){new Notification(\"⏱ Time's up!\",{body:`Your ${mode} session has ended.`});}};const requestNotificationPermission=()=>{if(\"Notification\"in window&&Notification.permission!==\"granted\"){Notification.requestPermission();}};useEffect(()=>{requestNotificationPermission();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-semibold rounded-lg shadow-md hover:from-blue-600 hover:to-indigo-700 transition duration-300\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center space-x-4\",children:Object.keys(MODES).map(key=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setMode(key),className:`px-4 py-1 rounded-full border ${mode===key?\"bg-blue-600 text-white\":\"bg-gray-800 border-gray-600\"}`,children:key===\"pomodoro\"?\"Pomodoro\":key===\"short\"?\"Short Break\":\"Long Break\"},key))}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-5xl font-mono\",children:formatTime(time)}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsRunning(!isRunning),className:\"px-5 py-2 rounded bg-blue-600 hover:bg-blue-700\",children:isRunning?\"Pause\":\"Start\"}),/*#__PURE__*/_jsx(\"audio\",{ref:audioRef,src:\"./assets/chime.mp3\"})]});}","map":{"version":3,"names":["useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","MODES","pomodoro","short","long","Timer","mode","setMode","time","setTime","isRunning","setIsRunning","audioRef","interval","setInterval","prev","playNotification","clearInterval","formatTime","seconds","m","String","Math","floor","padStart","s","current","play","Notification","permission","body","requestNotificationPermission","window","requestPermission","className","children","Object","keys","map","key","onClick","ref","src"],"sources":["D:/Ragasree/focusflow-tailwind-react-starter/src/components/Timer.jsx"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\n\r\nconst MODES = {\r\n  pomodoro: 25 * 60,\r\n  short: 5 * 60,\r\n  long: 15 * 60,\r\n};\r\n\r\nexport default function Timer() {\r\n  const [mode, setMode] = useState(\"pomodoro\");\r\n  const [time, setTime] = useState(MODES[mode]);\r\n  const [isRunning, setIsRunning] = useState(false);\r\n\r\n  const audioRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    setTime(MODES[mode]);\r\n    setIsRunning(false);\r\n  }, [mode]);\r\n\r\n  useEffect(() => {\r\n    let interval;\r\n    if (isRunning) {\r\n      interval = setInterval(() => {\r\n        setTime((prev) => {\r\n          if (prev <= 1) {\r\n            setIsRunning(false);\r\n            playNotification();\r\n            return 0;\r\n          }\r\n          return prev - 1;\r\n        });\r\n      }, 1000);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [isRunning]);\r\n\r\n  const formatTime = (seconds) => {\r\n    const m = String(Math.floor(seconds / 60)).padStart(2, \"0\");\r\n    const s = String(seconds % 60).padStart(2, \"0\");\r\n    return `${m}:${s}`;\r\n  };\r\n\r\n  const playNotification = () => {\r\n    if (audioRef.current) {\r\n      audioRef.current.play();\r\n    }\r\n\r\n    if (Notification.permission === \"granted\") {\r\n      new Notification(\"⏱ Time's up!\", {\r\n        body: `Your ${mode} session has ended.`,\r\n      });\r\n    }\r\n  };\r\n\r\n  const requestNotificationPermission = () => {\r\n    if (\"Notification\" in window && Notification.permission !== \"granted\") {\r\n      Notification.requestPermission();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    requestNotificationPermission();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"px-6 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-semibold rounded-lg shadow-md hover:from-blue-600 hover:to-indigo-700 transition duration-300\"\r\n>\r\n      {/* Mode Buttons */}\r\n      <div className=\"flex justify-center space-x-4\">\r\n        {Object.keys(MODES).map((key) => (\r\n          <button\r\n            key={key}\r\n            onClick={() => setMode(key)}\r\n            className={`px-4 py-1 rounded-full border ${\r\n              mode === key\r\n                ? \"bg-blue-600 text-white\"\r\n                : \"bg-gray-800 border-gray-600\"\r\n            }`}\r\n          >\r\n            {key === \"pomodoro\" ? \"Pomodoro\" : key === \"short\" ? \"Short Break\" : \"Long Break\"}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Timer */}\r\n      <h2 className=\"text-5xl font-mono\">{formatTime(time)}</h2>\r\n\r\n      {/* Start/Pause Button */}\r\n      <button\r\n        onClick={() => setIsRunning(!isRunning)}\r\n        className=\"px-5 py-2 rounded bg-blue-600 hover:bg-blue-700\"\r\n      >\r\n        {isRunning ? \"Pause\" : \"Start\"}\r\n      </button>\r\n\r\n      {/* Hidden audio element */}\r\n      <audio ref={audioRef} src=\"./assets/chime.mp3\" />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}